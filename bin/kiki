#!/usr/bin/env node
const spawn = require('cross-spawn');
const script = process.argv[2];
const args = process.argv.slice(3);

switch (script) {
case 'build':
case 'start':
case 'watch':
  const task = script === 'start' ? 'watch' : script;
  const result = spawn.sync(
    'node',
    [require.resolve('../dist/cli/' + task)].concat(args),
    {stdio: 'inherit'}
  );
  process.exit(result.status);
  break;
default:
  /* eslint-disable no-console */
  console.log('Unknown script "' + script + '".');
  console.log('Perhaps you need to update kiki?');
  /* eslint-enable no-console */
  break;
}
